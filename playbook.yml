---
- name: Setup routing services
  hosts: router
  gather_facts: no

  environment:
    STORAGE_LOCATION: "/storage"
    TZ: "America/Montreal"

  roles:
    - setup
    - pihole

- name: Setup home services
  hosts: home
  gather_facts: no

  environment:
    DOMAIN_NAME: "{{domain_name}}"
    LDAP_DC: "{{ldap_dc}}"
    LDAP_OU: "{{ldap_ou}}"
    STORAGE_LOCATION: "/storage"
    TZ: "America/Montreal"

  roles:
    - setup
    - traefik
    - openldap
    - portainer
    - booksonic
    - calibre
    - emby
    - heimdall
    - mailserver
    - mayanedms
    - nextcloud
    - privatebin
    - roundcube
    - syncthing
